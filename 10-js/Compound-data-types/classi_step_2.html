<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Classi_Step</title>

  </head>



  <body>
  </body>

  <script>

        class Actor{   //Il nome della classe ha sempre la lettera maiuscola

            constructor(startX, startY){

                this.x = startX;
                this.y = startY;


            }

            move(dx, dy){

                this.x += dx;
                this.y += dy;

            }

            distanceTo(otherActor){

              let dx = otherActor.x - this.x;
              let dy = otherActor.y - this.y;

              return Math.hypot (dx, dy); // calcolo dell'ipotenusa

            }
            
        }

        // Creazione nuova classe Player, eredita classe da Actor

        class Player extends Actor{

          constructor(startX, startY){

            super(startX, startY);
            this.hp = 100;

          }

        }

        // Creazione nuova classe Enemy, eredita da Actor

        class Enemy extends Actor{

            attack(player){

              if (this.distanceTo(player) < 4){

                player.hp -= 10;
                return true;

              }else{

                return false;
                
              }

            }

        }

      /*new class follower, eredita da actor 
        3 parametri: statrX, statrY, player
        player è una proprietà dell'oggetto (this.player = player)
        un follower non può essere attaccato
        non attacca
        non ha bisogno di punti
        può solo seguire il player (metodo chiamato follow, le coordinate del follower sono uguali alle coordinate del player)*/

        class Follower extends Actor{

          constructor(startX, startY, Player){

          this.player = player;

            follow(player){

              this.x = this.player.x;
              this.y = this.player.y;

            }

          }

        }


        // Creazione oggetti

        let player = new Player(1, 2);
        let enemy = new Enemy(3, 4);
        let follower = new Follower();

        // console.log(player.hp);

        console.log(enemy.distanceTo(player)); // Mostra la distanza tra Enemy e Player

        //enemy.attack(player);

        console.log(enemy.attack(player));

        console.log(player.hp);

        player.move(5, 5);

        console.log(player);

        console.log(enemy.attack(player));

        console.log(enemy.distanceTo(player));

        console.log(follower);
        
  </script>

</html>